

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Server Settings (eventmq.conf) &mdash; EventMQ 0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Documentation" href="api.html" />
    <link rel="prev" title="Using EventMQ" href="using.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> EventMQ
          

          
          </a>

          
            
            
              <div class="version">
                0.3.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="using.html">Using EventMQ</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Server Settings (eventmq.conf)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#global">Global</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#super-debug">super_debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-sockets">max_sockets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#router">Router</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#frontend-addr">frontend_addr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#backend-addr">backend_addr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wal">wal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wal-enabled">wal_enabled</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scheduler">Scheduler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scheduler-addr">scheduler_addr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rq-host">rq_host</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rq-port">rq_port</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rq-db">rq_db</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rq-password">rq_password</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#job-manager">Job Manager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#concurrent-jobs">concurrent_jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#queues">queues</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setup-callabe-setup-path">setup_callabe/setup_path</a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-job-count">max_job_count</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="using.html#client-environment-variables">Client Environment Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to EventMQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EventMQ</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="using.html">Using EventMQ</a> &raquo;</li>
        
      <li>Server Settings (eventmq.conf)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/settings_file.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="server-settings-eventmq-conf">
<h1>Server Settings (eventmq.conf)<a class="headerlink" href="#server-settings-eventmq-conf" title="Permalink to this headline">¶</a></h1>
<p>EventMQ uses a standard INI style config file with the default
location of <code class="docutils literal"><span class="pre">/etc/eventmq.conf</span></code>. If you would like to specify a custom path
you can use the <code class="docutils literal"><span class="pre">EVENTMQ_CONFIG_FILE</span></code> environment variable.</p>
<p>All of these options can be defined via environment variables by converting
them to upper case and prefixing them with <code class="docutils literal"><span class="pre">EVENTMQ_</span></code>. For example
<code class="docutils literal"><span class="pre">EVENTMQ_MAX_SOCKETS=2048</span></code>.</p>
<div class="section" id="global">
<h2>Global<a class="headerlink" href="#global" title="Permalink to this headline">¶</a></h2>
<div class="section" id="super-debug">
<h3>super_debug<a class="headerlink" href="#super-debug" title="Permalink to this headline">¶</a></h3>
<p>Default: False</p>
<p>Enable most verbose level of debug statements</p>
</div>
<div class="section" id="max-sockets">
<h3>max_sockets<a class="headerlink" href="#max-sockets" title="Permalink to this headline">¶</a></h3>
<p>Default: 1024</p>
<p>Define the max sockets for a process/context</p>
</div>
</div>
<div class="section" id="router">
<h2>Router<a class="headerlink" href="#router" title="Permalink to this headline">¶</a></h2>
<div class="section" id="frontend-addr">
<h3>frontend_addr<a class="headerlink" href="#frontend-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: &#8216;<a class="reference external" href="tcp://127.0.0.1:47291">tcp://127.0.0.1:47291</a>&#8216;</p>
<p>The address used to listen for client and scheduler connections</p>
</div>
<div class="section" id="backend-addr">
<h3>backend_addr<a class="headerlink" href="#backend-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: &#8216;<a class="reference external" href="tcp://127.0.0.1:47291">tcp://127.0.0.1:47291</a>&#8216;</p>
<p>The address used to listen for connections from workers</p>
</div>
<div class="section" id="wal">
<h3>wal<a class="headerlink" href="#wal" title="Permalink to this headline">¶</a></h3>
<p>Default: &#8216;/var/log/eventmq/wal.log&#8217;</p>
<p>Write-ahead Log for replaying messages received by the Router.  Will
try to create the directory specified and append to the filename given.
Requires correct permissions to write to the given file.</p>
</div>
<div class="section" id="wal-enabled">
<h3>wal_enabled<a class="headerlink" href="#wal-enabled" title="Permalink to this headline">¶</a></h3>
<p>Default: False</p>
<p>Enable or disable the Write-ahead Log</p>
</div>
</div>
<div class="section" id="scheduler">
<h2>Scheduler<a class="headerlink" href="#scheduler" title="Permalink to this headline">¶</a></h2>
<div class="section" id="scheduler-addr">
<h3>scheduler_addr<a class="headerlink" href="#scheduler-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: &#8216;<a class="reference external" href="tcp://127.0.0.1:47291">tcp://127.0.0.1:47291</a>&#8216;</p>
<p>The address the scheduler will use to connect to the broker</p>
</div>
<div class="section" id="rq-host">
<h3>rq_host<a class="headerlink" href="#rq-host" title="Permalink to this headline">¶</a></h3>
<p>Default: &#8216;localhost&#8217;</p>
<p>The hostname of the redis server used to persist scheduled jobs.  This is
expected to support redis&#8217; save operation which saves the contents to disk.</p>
</div>
<div class="section" id="rq-port">
<h3>rq_port<a class="headerlink" href="#rq-port" title="Permalink to this headline">¶</a></h3>
<p>Default: 6379</p>
<p>Port of redis server to connect to.</p>
</div>
<div class="section" id="rq-db">
<h3>rq_db<a class="headerlink" href="#rq-db" title="Permalink to this headline">¶</a></h3>
<p>Default: 0</p>
<p>Which redis database to use</p>
</div>
<div class="section" id="rq-password">
<h3>rq_password<a class="headerlink" href="#rq-password" title="Permalink to this headline">¶</a></h3>
<p>Default: &#8216;&#8217;</p>
<p>Password to use when connecting to redis</p>
</div>
</div>
<div class="section" id="job-manager">
<h2>Job Manager<a class="headerlink" href="#job-manager" title="Permalink to this headline">¶</a></h2>
<div class="section" id="concurrent-jobs">
<h3>concurrent_jobs<a class="headerlink" href="#concurrent-jobs" title="Permalink to this headline">¶</a></h3>
<p>Default: 4</p>
<p>This is the number of concurrent jobs the indiviudal job manager should execute
at a time. If you are using the multiprocess or threading model this number
becomes important as you will want to control the load on your server. If the
load equals the number of cores on the server, processes will begin waiting for
cpu cycles and things will begin to slow down.</p>
<p>A safe number to choose if your jobs block a lot would be (2 * cores). If your
jobs are cpu intensive you will want to set this number to the number of cores
you have or (cores - 1) to leave cycles for the os and other processes. This is
something that will have to be tuned based on the jobs that are
running. Grouping similar jobs in named queues will help you tune this number.</p>
</div>
<div class="section" id="queues">
<h3>queues<a class="headerlink" href="#queues" title="Permalink to this headline">¶</a></h3>
<p>Default: [[10, &#8220;default&#8221;]]</p>
<p>Comma seperated list of queues to process jobs for with their weights. This list
must be valid JSON otherwise an error will be thrown.
Example: <code class="docutils literal"><span class="pre">queues=[[10,</span> <span class="pre">&quot;data_process&quot;],</span> <span class="pre">[15,</span> <span class="pre">&quot;email&quot;]]</span></code>.  With these
weights and the <code class="docutils literal"><span class="pre">CONCURRENT_JOBS</span></code> setting, you should be able to tune managers
running jobs locally efficiently. If you have a larger server with a weight of
50 on q1 and 8 concurrent jobs and a smaller server with a weight 30 and 4
concurrent jobs, the q1 jobs will be sent to the large box until it is no longer
accepting jobs. At this point jobs will start to be sent to the next highest
number until the large box is ready to accept another q1 job.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is recommended that you have some workers listening for jobs on your
default queue so that anything that is not explicitly assigned will still be
run.</p>
</div>
</div>
<div class="section" id="setup-callabe-setup-path">
<h3>setup_callabe/setup_path<a class="headerlink" href="#setup-callabe-setup-path" title="Permalink to this headline">¶</a></h3>
<p>Default: &#8216;&#8217; (Signifies no task will be attempted)</p>
<p>Strings containing path and callable to be run when a worker is spawned
if applicable to that type of worker.  Currently the only supported worker is a
MultiProcessWorker, and is useful for pulling any global state into memory.</p>
</div>
<div class="section" id="max-job-count">
<h3>max_job_count<a class="headerlink" href="#max-job-count" title="Permalink to this headline">¶</a></h3>
<p>Default: 1024</p>
<p>After a worker runs this amount of jobs, it will gracefully exit and be replaced</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="using.html" class="btn btn-neutral" title="Using EventMQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, EventMQ Contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>